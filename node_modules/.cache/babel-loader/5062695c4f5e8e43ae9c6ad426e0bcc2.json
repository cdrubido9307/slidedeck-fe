{"ast":null,"code":"var _jsxFileName = \"/Users/tom/Documents/F21 COMP 523/repos/slidedeck-fe/src/components/Auth.js\";\n// Import CSS\n// Import major dependencies\nimport React, { useState, createContext, useEffect } from \"react\"; // Import components\n// Import icons\n// Import API and static content\n\nimport storage from \"../static/storage\";\nconst AuthContext = createContext();\n\nconst makeUser = (name, role, token, loggedIn) => {\n  const user = {\n    name: name,\n    role: role,\n    token: token,\n    loggedIn: loggedIn\n  };\n  return user;\n};\n\nconst AuthProvider = props => {\n  const lastUser = storage.get(\"last-user\");\n  const defaultUser = Auth.defaultUser;\n  const [user, setUser] = useState(lastUser ? lastUser : defaultUser);\n  useEffect(() => {\n    storage.set(\"last-user\", user);\n  }, [user]);\n  return /*#__PURE__*/React.createElement(AuthContext.Provider, {\n    value: {\n      user: user,\n      setUser: setUser\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 9\n    }\n  }, props.children);\n};\n\nconst Auth = {\n  Context: AuthContext,\n  Provider: AuthProvider,\n  defaultUser: makeUser(undefined, undefined, undefined, false),\n  makeUser: makeUser\n};\nexport default Auth;","map":{"version":3,"sources":["/Users/tom/Documents/F21 COMP 523/repos/slidedeck-fe/src/components/Auth.js"],"names":["React","useState","createContext","useEffect","storage","AuthContext","makeUser","name","role","token","loggedIn","user","AuthProvider","props","lastUser","get","defaultUser","Auth","setUser","set","children","Context","Provider","undefined"],"mappings":";AAAA;AACA;AACA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,aAA1B,EAAyCC,SAAzC,QAA0D,OAA1D,C,CACA;AACA;AACA;;AACA,OAAOC,OAAP,MAAoB,mBAApB;AAEA,MAAMC,WAAW,GAAGH,aAAa,EAAjC;;AAEA,MAAMI,QAAQ,GAAG,CAACC,IAAD,EAAOC,IAAP,EAAaC,KAAb,EAAoBC,QAApB,KAAiC;AAC9C,QAAMC,IAAI,GAAG;AACTJ,IAAAA,IAAI,EAAEA,IADG;AAETC,IAAAA,IAAI,EAAEA,IAFG;AAGTC,IAAAA,KAAK,EAAEA,KAHE;AAITC,IAAAA,QAAQ,EAAEA;AAJD,GAAb;AAOA,SAAOC,IAAP;AACH,CATD;;AAWA,MAAMC,YAAY,GAAIC,KAAD,IAAW;AAE5B,QAAMC,QAAQ,GAAGV,OAAO,CAACW,GAAR,CAAY,WAAZ,CAAjB;AACA,QAAMC,WAAW,GAAGC,IAAI,CAACD,WAAzB;AACA,QAAM,CAACL,IAAD,EAAOO,OAAP,IAAkBjB,QAAQ,CAACa,QAAQ,GAAGA,QAAH,GAAcE,WAAvB,CAAhC;AAEAb,EAAAA,SAAS,CAAC,MAAM;AACZC,IAAAA,OAAO,CAACe,GAAR,CAAY,WAAZ,EAAyBR,IAAzB;AACH,GAFQ,EAEN,CAACA,IAAD,CAFM,CAAT;AAIA,sBACI,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AACzBA,MAAAA,IAAI,EAAEA,IADmB;AAEzBO,MAAAA,OAAO,EAAEA;AAFgB,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAIKL,KAAK,CAACO,QAJX,CADJ;AASH,CAnBD;;AAqBA,MAAMH,IAAI,GAAG;AACTI,EAAAA,OAAO,EAAEhB,WADA;AAETiB,EAAAA,QAAQ,EAAEV,YAFD;AAGTI,EAAAA,WAAW,EAAEV,QAAQ,CAACiB,SAAD,EAAYA,SAAZ,EAAuBA,SAAvB,EAAkC,KAAlC,CAHZ;AAITjB,EAAAA,QAAQ,EAAEA;AAJD,CAAb;AAOA,eAAeW,IAAf","sourcesContent":["// Import CSS\n// Import major dependencies\nimport React, { useState, createContext, useEffect } from \"react\";\n// Import components\n// Import icons\n// Import API and static content\nimport storage from \"../static/storage\";\n\nconst AuthContext = createContext();\n\nconst makeUser = (name, role, token, loggedIn) => {\n    const user = {\n        name: name,\n        role: role,\n        token: token,\n        loggedIn: loggedIn\n    }\n\n    return user;\n}\n\nconst AuthProvider = (props) => {\n\n    const lastUser = storage.get(\"last-user\");\n    const defaultUser = Auth.defaultUser;\n    const [user, setUser] = useState(lastUser ? lastUser : defaultUser);\n\n    useEffect(() => {\n        storage.set(\"last-user\", user);\n    }, [user]);\n\n    return (\n        <AuthContext.Provider value={{\n            user: user,\n            setUser: setUser\n        }}>\n            {props.children}\n        </AuthContext.Provider>\n    )\n\n}\n\nconst Auth = {\n    Context: AuthContext,\n    Provider: AuthProvider,\n    defaultUser: makeUser(undefined, undefined, undefined, false),\n    makeUser: makeUser\n}\n\nexport default Auth;"]},"metadata":{},"sourceType":"module"}